{% load static %}
<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}LangLessPatientComm{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/dist/styles.css' %}">
    {% block custom_css %}
    {% endblock %}
    <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
    <script src="{% static 'js/tinymce_setup.js' %}"></script>
</head>
<body class="bg-primary-50 dark:bg-primary-900 dark:text-primary-50 flex flex-col min-h-screen">
{% include 'components/molecules/header.html' %}
<nav class="flex py-4" aria-label="Breadcrumb">
    <ol role="list" class="flex space-x-4 rounded-md bg-primary-100 dark:bg-primary-800 px-6 shadow">
        <li class="flex">
            <div class="flex items-center">
                <a href="{% url 'home' %}"
                   class="text-primary-600 dark:text-primary-300 hover:text-primary-700 dark:hover:text-primary-200">
                    <svg class="h-5 w-5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd"
                              d="M9.293 2.293a1 1 0 011.414 0l7 7A1 1 0 0117 11h-1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-3a1 1 0 00-1-1H9a1 1 0 00-1 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-6H3a1 1 0 01-.707-1.707l7-7z"
                              clip-rule="evenodd"/>
                    </svg>
                    <span class="sr-only">Home</span>
                </a>
            </div>
        </li>
        {% block breadcrumbs %}
            <!-- Additional breadcrumbs can be added here -->
        {% endblock %}
    </ol>
</nav>
<main class="flex-grow container mx-auto p-4">
    {% block content %}
    {% endblock %}
</main>
{% include 'components/molecules/footer.html' %}

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const html = document.documentElement;

        // Function to set the dark mode
        function setDarkMode(isDark) {
            if (isDark) {
                html.classList.remove('light');
                html.classList.add('dark');
            } else {
                html.classList.remove('dark');
                html.classList.add('light');
            }
        }

        // Check for saved dark mode preference or use system preference
        if (localStorage.getItem('darkMode') === 'true' || (!('darkMode' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            setDarkMode(true);
        }

        darkModeToggle.addEventListener('click', () => {
            const isDark = !html.classList.contains('dark');
            setDarkMode(isDark);
            localStorage.setItem('darkMode', isDark);
        });
    });
</script>

{% block custom_js %}
{% endblock %}
</body>
</html>